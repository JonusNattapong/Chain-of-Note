# Chain-of-Note RAG ЁЯдЦ

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python 3.8+](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![HuggingFace](https://img.shields.io/badge/ЁЯдЧ-HuggingFace-yellow)](https://huggingface.co/)
[![Mistral AI](https://img.shields.io/badge/ЁЯЪА-Mistral%20AI-blue)](https://mistral.ai/)



> ЁЯМЯ р╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣Мр╕Щр╕╡р╣Йр╣Ар╕Ыр╣Зр╕Щр╕Бр╕▓р╕гр╕Щр╕│р╣Ар╕кр╕Щр╕нр╕гр╕░р╕Ър╕Ъ Retrieval-Augmented Generation (RAG) р╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╣Ар╕Чр╕Др╕Щр╕┤р╕Д Chain-of-Note р╣Ар╕Юр╕╖р╣Ир╕нр╕ер╕Фр╕нр╕▓р╕Бр╕▓р╕г Hallucination р╣Гр╕Щр╕Бр╕▓р╕гр╕Хр╕нр╕Ър╕кр╕Щр╕нр╕Зр╕Чр╕╡р╣Ир╕кр╕гр╣Йр╕▓р╕Зр╣Вр╕Фр╕в AI

## ЁЯУС р╕кр╕▓р╕гр╕Ър╕▒р╕Н
- [р╕ар╕▓р╕Юр╕гр╕зр╕б](#-р╕ар╕▓р╕Юр╕гр╕зр╕б)
- [р╕Др╕╕р╕Ур╕кр╕бр╕Ър╕▒р╕Хр╕┤](#-р╕Др╕╕р╕Ур╕кр╕бр╕Ър╕▒р╕Хр╕┤)
- [р╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З](#-р╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З)
- [р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ](#-р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ)
- [р╕кр╕Цр╕▓р╕Ыр╕▒р╕Хр╕вр╕Бр╕гр╕гр╕б](#-р╕кр╕Цр╕▓р╕Ыр╕▒р╕Хр╕вр╕Бр╕гр╕гр╕б)
- [р╕Бр╕▓р╕гр╕Ыр╕гр╕░р╣Ар╕бр╕┤р╕Щр╕Ьр╕е](#-р╕Бр╕▓р╕гр╕Ыр╕гр╕░р╣Ар╕бр╕┤р╕Щр╕Ьр╕е)
- [р╣Ар╕нр╕Бр╕кр╕▓р╕гр╕Ыр╕гр╕░р╕Бр╕нр╕Ъ](#-р╣Ар╕нр╕Бр╕кр╕▓р╕гр╕Ыр╕гр╕░р╕Бр╕нр╕Ъ)
- [р╕Бр╕▓р╕гр╕нр╣Йр╕▓р╕Зр╕нр╕┤р╕З](#-р╕Бр╕▓р╕гр╕нр╣Йр╕▓р╕Зр╕нр╕┤р╕З)

## ЁЯМЯ р╕ар╕▓р╕Юр╕гр╕зр╕б

Chain-of-Note RAG р╣Ар╕Ыр╣Зр╕Щр╕зр╕┤р╕Шр╕╡р╕Бр╕▓р╕гр╕Вр╕▒р╣Йр╕Щр╕кр╕╣р╕Зр╕Вр╕нр╕З Retrieval-Augmented Generation р╕Чр╕╡р╣Ир╕Кр╣Ир╕зр╕вр╕ер╕Фр╕нр╕▓р╕Бр╕▓р╕г Hallucination р╣Вр╕Фр╕вр╕Бр╕▓р╕гр╣Ар╕Юр╕┤р╣Ир╕бр╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Бр╕▓р╕гр╕Ир╕Фр╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕гр╕░р╕лр╕зр╣Ир╕▓р╕Зр╕Бр╕▓р╕гр╕Фр╕╢р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Ар╕нр╕Бр╕кр╕▓р╕гр╣Бр╕ер╕░р╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕Зр╕Др╕│р╕Хр╕нр╕Ъ

### тЬи р╕Ыр╕гр╕░р╣Вр╕вр╕Кр╕Щр╣Мр╕Вр╕нр╕З Chain-of-Note

1. **ЁЯОп р╕ер╕Фр╕нр╕▓р╕Бр╕▓р╕г Hallucination**
   - р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Вр╣Йр╕нр╣Ар╕Чр╣Зр╕Ир╕Ир╕гр╕┤р╕Зр╕лр╕ер╕▒р╕Бр╕Ир╕▓р╕Бр╣Ар╕нр╕Бр╕кр╕▓р╕г
   - р╕ер╕Фр╣Вр╕нр╕Бр╕▓р╕кр╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕╡р╣Ир╣Др╕бр╣Ир╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З

2. **ЁЯУН р╕Бр╕▓р╕гр╕гр╕░р╕Ър╕╕р╣Бр╕лр╕ер╣Ир╕Зр╕Чр╕╡р╣Ир╕бр╕▓р╕Чр╕╡р╣Ир╕Фр╕╡р╕Вр╕╢р╣Йр╕Щ**
   - р╕Хр╕┤р╕Фр╕Хр╕▓р╕бр╣Бр╕лр╕ер╣Ир╕Зр╕Чр╕╡р╣Ир╕бр╕▓р╕Вр╕нр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е
   - р╣Ар╕Юр╕┤р╣Ир╕бр╕Др╕зр╕▓р╕бр╣Вр╕Ыр╕гр╣Ир╕Зр╣Гр╕кр╣Бр╕ер╕░р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Др╕Фр╣Й

3. **ЁЯза р╕Бр╕▓р╕гр╣Гр╕лр╣Йр╣Ар╕лр╕Хр╕╕р╕Ьр╕ер╕Чр╕╡р╣Ир╣Ар╕Юр╕┤р╣Ир╕бр╕Вр╕╢р╣Йр╕Щ**
   - р╣Бр╕Ър╣Ир╕Зр╕Бр╕гр╕░р╕Ър╕зр╕Щр╕Бр╕▓р╕гр╣Ар╕Ыр╣Зр╕Щр╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щ
   - р╕кр╕гр╣Йр╕▓р╕Зр╕лр╣Ир╕зр╕Зр╣Вр╕Лр╣Ир╕Бр╕▓р╕гр╣Гр╕лр╣Йр╣Ар╕лр╕Хр╕╕р╕Ьр╕ер╕Чр╕╡р╣Ир╣Бр╕бр╣Ир╕Щр╕вр╕│

## ЁЯОп р╕Др╕╕р╕Ур╕кр╕бр╕Ър╕▒р╕Хр╕┤

### р╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щр╕лр╕ер╕▒р╕Б
- ЁЯФН р╕Бр╕▓р╕гр╕Чр╕│р╕Фр╕▒р╕Кр╕Щр╕╡р╣Ар╕нр╕Бр╕кр╕▓р╕гр╕Фр╣Йр╕зр╕в Sentence Embeddings
- ЁЯУЭ р╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕З Chain-of-Note
- ЁЯОп р╕ер╕Фр╕нр╕▓р╕Бр╕▓р╕г Hallucination
- ЁЯдЦ р╕гр╕нр╕Зр╕гр╕▒р╕Ъ Multiple Embedding Providers:
  - HuggingFace Models
  - Mistral AI API

### р╕Бр╕▓р╕гр╕Ыр╕гр╕░р╕бр╕зр╕ер╕Ьр╕е
- ЁЯЪА р╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Юр╕кр╕╣р╕Зр╕Фр╣Йр╕зр╕в Vector Search
- ЁЯУК р╕гр╕░р╕Ър╕Ър╕Ыр╕гр╕░р╣Ар╕бр╕┤р╕Щр╕Ьр╕ер╣Бр╕Ър╕Ър╕Др╕гр╕Ър╕зр╕Зр╕Ир╕г
- ЁЯФД р╕Бр╕▓р╕гр╕Ыр╕гр╕░р╕бр╕зр╕ер╕Ьр╕ер╣Бр╕Ър╕Ъ Batch

## ЁЯУж р╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З

```bash
# р╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З dependencies
pip install -r requirements.txt

# р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Юр╕▒р╕Тр╕Щр╕▓
pip install -e .
```

### р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ API Keys
```bash
# р╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣М .env
echo "HUGGINGFACE_TOKEN=your_token_here
MISTRAL_API_KEY=your_mistral_key_here" > .env
```

## ЁЯЪА р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

### р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Юр╕╖р╣Йр╕Щр╕Рр╕▓р╕Щ
```python
from src.embeddings import SentenceTransformerEmbeddings, MistralEmbeddings
from src.rag_system import ChainOfNoteRAG

# р╣Ар╕ер╕╖р╕нр╕Б Embedding Model (HuggingFace р╕лр╕гр╕╖р╕н Mistral)
embedding_model = SentenceTransformerEmbeddings()  # р╕лр╕гр╕╖р╕н MistralEmbeddings()
rag_system = ChainOfNoteRAG(embedding_model=embedding_model)

# р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕гр╕░р╕Ър╕Ъ
response = rag_system.query(
    "р╕Др╕│р╕Цр╕▓р╕бр╕Вр╕нр╕Зр╕Др╕╕р╕У",
    top_k=5,
    return_context=True,
    return_notes=True
)
```

### р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Ьр╣Ир╕▓р╕Щ Web Interface
```bash
python web.py
```

## ЁЯПЧ р╕кр╕Цр╕▓р╕Ыр╕▒р╕Хр╕вр╕Бр╕гр╕гр╕б

### р╕нр╕Зр╕Др╣Мр╕Ыр╕гр╕░р╕Бр╕нр╕Ър╕лр╕ер╕▒р╕Б
1. ЁЯУе **Document Loader**
   - р╣Вр╕лр╕ер╕Фр╣Бр╕ер╕░р╣Бр╕Ър╣Ир╕Зр╣Ар╕нр╕Бр╕кр╕▓р╕г
   - р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕лр╕ер╕▓р╕вр╕гр╕╣р╕Ыр╣Бр╕Ър╕Ър╣Др╕Яр╕ер╣М

2. ЁЯзо **Embedding Models**
   - HuggingFace Models
   - Mistral AI API
   - р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Вр╕вр╕▓р╕вр╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕б

3. ЁЯЧДя╕П **Document Store**
   - Vector Database
   - р╕Бр╕▓р╕гр╕Др╣Йр╕Щр╕лр╕▓р╣Бр╕Ър╕Ър╕бр╕╡р╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Ю

4. тЫУя╕П **Chain-of-Note**
   - р╕Бр╕▓р╕гр╕Ир╕Фр╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
   - р╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕Зр╕Др╕│р╕Хр╕нр╕Ър╕Чр╕╡р╣Ир╣Бр╕бр╣Ир╕Щр╕вр╕│

## ЁЯУК р╕Бр╕▓р╕гр╕Ыр╕гр╕░р╣Ар╕бр╕┤р╕Щр╕Ьр╕е

### р╕Хр╕▒р╕зр╕Кр╕╡р╣Йр╕зр╕▒р╕Фр╕лр╕ер╕▒р╕Б
- ЁЯУЙ р╕Др╕░р╣Бр╕Щр╕Щ Hallucination
- ЁЯОп р╕Др╕зр╕▓р╕бр╣Ар╕Бр╕╡р╣Ир╕вр╕зр╕Вр╣Йр╕нр╕Зр╕Вр╕нр╕Зр╕Др╕│р╕Хр╕нр╕Ъ
- ЁЯУИ р╕Др╕░р╣Бр╕Щр╕Щ ROUGE
- ЁЯФД р╕Бр╕▓р╕гр╣Ар╕Ыр╕гр╕╡р╕вр╕Ър╣Ар╕Чр╕╡р╕вр╕Ър╕Бр╕▒р╕Ъ RAG р╕бр╕▓р╕Хр╕гр╕Рр╕▓р╕Щ

## ЁЯУЪ р╣Ар╕нр╕Бр╕кр╕▓р╕гр╕Ыр╕гр╕░р╕Бр╕нр╕Ъ

- [ЁЯФН р╕Др╕╣р╣Ир╕бр╕╖р╕нр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕гр╕░р╕Ър╕Ъ Embeddings](docs/thai_embeddings_guide.md)
- [ЁЯПЧ р╕кр╕Цр╕▓р╕Ыр╕▒р╕Хр╕вр╕Бр╕гр╕гр╕бр╕гр╕░р╕Ър╕Ъ RAG](docs/thai_rag_architecture.md)
- [ЁЯУЭ р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ](docs/thai_usage_examples.md)
- [ЁЯУЦ API Reference](docs/api_reference.md)
- [ЁЯУЛ Changelog](docs/CHANGELOG.md)

## ЁЯУЬ р╕Бр╕▓р╕гр╕нр╣Йр╕▓р╕Зр╕нр╕┤р╕З

```bibtex
@software{chain_of_note_rag,
  author = {zombitx64},
  title = {Chain-of-Note RAG System},
  year = {2023},
  url = {https://github.com/JonusNattapong/Chain-of-Note}
}
```

## ЁЯУД р╕кр╕┤р╕Чр╕Шр╕┤р╣Мр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

р╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣Мр╕Щр╕╡р╣Йр╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕нр╕Щр╕╕р╕Нр╕▓р╕Хр╕ар╕▓р╕вр╣Гр╕Хр╣Й [MIT License](LICENSE)

---
<div align="center">
  <sub>Built with тЭдя╕П by zombitx64</sub>
</div>
